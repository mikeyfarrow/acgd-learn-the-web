
<!DOCTYPE html>
<html lang="en-ca">
<head>
  
<meta charset="utf-8">
<title>Advanced performance · Web Dev Topics · Learn the Web</title>
<meta name="description" content="Making our websites more performant with minification, content delivery networks, and other optimizations.">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="/fonts/alegreyasans-regular.woff" rel="preload" as="font">
<link href="/fonts/alegreyasans-italic.woff" rel="preload" as="font">
<link href="/fonts/alegreyasans-bold.woff" rel="preload" as="font">
<link href="/fonts/sourcecodepro-regular.woff" rel="preload" as="font">
<link href="/fonts/sourcecodepro-bold.woff" rel="preload" as="font">
<link href="/css/main.min.css?v=92" rel="stylesheet">
<meta name="application-name" content="Learn the Web">
<link rel="apple-touch-icon-precomposed" href="/favicon-152.png">
<meta name="msapplication-TileImage" content="/favicon-144.png">
<meta name="msapplication-TileColor" content="#00deae">
<link rel="profile" href="http://osprotocol.com">
<meta property="os:repo" content="https://github.com/acgd-learn-the-web">
<meta property="os:rcs_type" content="git">
<meta property="os:src" content="git@github.com:acgd-learn-the-web/topics.git">
<meta property="os:issue" content="https://github.com/acgd-learn-the-web/topics/issues">

  
  <link href="/css/main-article.min.css?v=92" rel="stylesheet">
  
  
</head>
<body >

  <svg hidden>
  <symbol id="icon-nav" viewBox="0 0 256 256">
    <path d="M8.5 27h239v35.7H8.5V27zm0 83.6h239v35.8H8.5v-35.8zm0 83.6h239V230H8.5v-35.8z"/>
  </symbol>
  <symbol id="icon-activities" viewBox="0 0 256 256">
    <path d="M128 10.3A117.7 117.7 0 1 0 245.7 128 117.7 117.7 0 0 0 128 10.3zm0 210.2a92.5 92.5 0 1 1 92.5-92.5 92.5 92.5 0 0 1-92.5 92.5z"/>
    <path d="M178.3 75a79.6 79.6 0 0 0-11.2 1.2q-7 1.2-10 3.7t-7 6q-4 4.2-13 17.3a290.3 290.3 0 0 0-16.3 26.3Q113 143 108 154a39.5 39.5 0 0 0-10-10q-5.4-4-10-4t-10 4q-5.7 4-5.7 9.5 0 3.7 5 9A135.2 135.2 0 0 1 90 179a69.5 69.5 0 0 0 5.3 7.7 9.6 9.6 0 0 0 2.7 1.6q1.7.8 8 .8 7.7 0 10.3-1a12 12 0 0 0 3.7-3q1.2-2 5.5-12.2a281.7 281.7 0 0 1 24.3-46.6q15.3-24 29.5-37a29.6 29.6 0 0 0 4-4.3 6 6 0 0 0 .8-3.3 5.4 5.4 0 0 0-1-4 5.7 5.7 0 0 0-4-1.6z"/>
  </symbol>
  <symbol id="icon-courses" viewBox="0 0 256 256">
    <circle cx="44.4" cy="40.4" r="33.4"/>
    <path fill="none" stroke-width="32" d="M116.4 40.4H229" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="44.4" cy="128" r="33.4"/>
    <path fill="none" stroke-width="32" d="M116.4 128H229" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="44.4" cy="215.6" r="33.4"/>
    <path fill="none" stroke-width="32" d="M116.4 215.6H229" stroke-linecap="round" stroke-linejoin="round"/>
  </symbol>
  <symbol id="icon-left" viewBox="0 0 50 100">
    <path fill="none" stroke-width="12" stroke-miterlimit="10" d="M41.7 82.6L8.3 49.3l32-32" stroke-linecap="round" stroke-linejoin="round"/>
  </symbol>
  <symbol id="icon-right" viewBox="0 0 50 100">
    <path fill="none" stroke-width="12" stroke-miterlimit="10" d="M8.3 82.6l33.4-33.3-32-32" stroke-linecap="round" stroke-linejoin="round"/>
  </symbol>
  <symbol id="icon-down" viewBox="0 0 100 50">
    <path fill="none" stroke-width="12" stroke-miterlimit="10" d="M17.4 8.3l33.3 33.4 32-32" stroke-linecap="round" stroke-linejoin="round"/>
  </symbol>
  <symbol id="icon-play" viewBox="0 0 256 190">
    <path d="M249.5 45.4s-2.4-17-10-24.6c-9.3-10-20-10-24.7-10.5C180 7.8 128 7.8 128 7.8s-52.2 0-87 2.5c-4.7.6-15.3.6-24.7 10.5-7.4 7.5-10 24.6-10 24.6S4 65.4 4 85.6v18.8c0 20 2.5 40 2.5 40s2.4 17.2 10 24.7c9.3 10 21.7 9.8 27.2 10.8 19.8 2 84.3 2.5 84.3 2.5s52 0 86.8-2.6c4.8-.6 15.4-.6 24.8-10.5 7.4-7.4 10-24.5 10-24.5s2.4-20 2.4-40v-19c0-20-2.5-40-2.5-40zm-147 81.8V57.5l67 35-67 34.7z"/>
  </symbol>
  <symbol id="icon-download" viewBox="0 0 256 256">
    <path d="M234.3 1H21.7C10.3 1 1 10.3 1 21.7v212.5c0 11.5 9.3 20.7 20.7 20.7h212.5c11.5 0 20.7-9.6 20.7-21V21.7C255 10.3 245.4 1 234 1zM128 220.7L48.4 123H88V48h79v75h40.6L128 220.7z"/>
  </symbol>
  <symbol id="icon-github" viewBox="0 0 256 256">
    <path d="M213.7 117c2-8 2.5-17.2 2.5-27.3 0-16-6-28.7-15.7-38.4 1.7-5.5 4-17.6-2.3-33.2 0 0-11-3-36 14-9.6-2.3-20-3.5-30.4-3.5-11.4 0-23 1.5-33.7 4.4-25-17.5-37-14-37-14-7 18.3-2 32-1 35.3-8.3 9.6-14 21.5-14 36 0 10.5 1 19.8 4 28 0 .6 4.4 10 4.7 10.4l1.8 2.6c9.4 14 26 23 53.8 26-4.2 2.4-8.6 7.3-10.4 16-6 3-24.7 9.4-35.8-9.8 0 0-6.2-11.4-18.2-12.3 0 0-11.4-.3-.6 7 0 0 8.3 4 13.6 17.5 0 0 6 23.4 41 16v24s-1 8.7-9 11.5c0 0-5 3 0 5 0 0 21 2 21-16v-26.5s0-10.5 6-14V219s-.8 10.2-6 14.2c0 0-4 6.5 4 4.7 0 0 14.7-2 15.4-20v-43h3.3l.4 43.2c.5 17.5 15.5 19.4 15.5 19.4 8 1.8 4.5-4.7 4.5-4.7-5.3-4-5.5-14.5-5.5-14.5v-43c6 4 5 13.7 5 13.7V216c0 17.8 21.2 16 21.2 16 5-1.7.3-5 .3-5-8-2.8-8.5-11.3-8.5-11.3V181c0-13.5-6-20.6-11.4-24.4 31-3 46.7-12.8 54-28 .7-.5 4-10.8 4.4-11.6zm-82 33.6c-35.3 0-64-5.3-64-39.4 0-8.2 4-15.8 11-22 11.5-10.6 31-5 53-5s41.4-5.6 53 4.8c7 6.3 11 14 11 22.2 0 38.4-28.7 39.4-64 39.4z"/>
    <path d="M97 94c-7 0-13 8.6-13 19 0 10.7 6 19.3 13.3 19.3s13.4-8.6 13.4-19.2c0-10-6-19-13.3-19zm71.5 0c-7.3 0-13.3 8.6-13.3 19 0 10.7 6 19.3 13.3 19.3 7.3 0 13.3-8.6 13.3-19.2 0-10-6-19-13.3-19z"/>
  </symbol>
  <symbol id="icon-bug" viewBox="0 0 256 256">
    <path d="M47.6 84L31 67.5c-3-3-8-3-11.2 0-3 3.2-3 8.2 0 11.3l19 17.8c1.4 1.5 3.4 1 5.5 1h15.4c-11 14-18.2 30.4-20.8 47H12c-4.4 0-8 3.8-8 8.2 0 4.4 3.6 8.3 8 8.3h25.7c0 14 3.6 28 9.7 39h-5.7c-2 0-4 1-5.6 3l-18 19c-3 3-3 8 0 11.4 1.7 1.5 3.8 2.4 5.8 2.4s4-.8 5.6-2.3L45 216h12.8c15.6 19.4 40 32 64.8 33.3V84h-75zM244 144.6h-27.4c-3.4-16.5-12.2-33-22.5-46.8h18c2 0 4 .4 6-1l19-18.5c3-3 3-7.8 0-11-3-3-8-3-11 0L209 84h-75v165.3c25-1.6 49-16.6 64.4-33h13L228 233c1.4 1 3.5 2 5.5 2s4-1 5.8-2.8c3-3.2 3-8.2 0-11.3l-19-19.6c-1.4-1.5-3.4-2.7-5.5-2.7h-6c6-11 9.6-24.8 9.7-38.5h26c4.3 0 8-4 8-8.4s-3.8-8-8-8zM77 73h102c0-19.3-9.6-33.8-24-42.8l10.4-10c3-3.2 3-8 0-11.2-3-3-8-3-11.2 0l-15 15c-3.6-.7-7.4-1.2-11.3-1.2s-8 .5-12 1.3L101 9c-3-3-8-3-11 0-3 3.7-3 8.7 0 11.8l10.3 10c-13.7 8.4-23 23-23 42.2z"/>
  </symbol>
  <symbol id="icon-steps" viewBox="0 0 256 256">
    <circle cx="41.8" cy="63.2" r="24.7"/>
    <path fill="none" stroke-width="17" stroke-miterlimit="10" d="M87.7 63.2H239" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="41.8" cy="128" r="24.7"/>
    <path fill="none" stroke-width="17" stroke-miterlimit="10" d="M87.7 128H239" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="41.8" cy="192.8" r="24.7"/>
    <path fill="none" stroke-width="17" stroke-miterlimit="10" d="M87.7 192.8H239" stroke-linecap="round" stroke-linejoin="round"/>
  </symbol>
  <symbol id="icon-victory" viewBox="0 0 256 256">
    <path fill="none" stroke-width="17" d="M95 164.8c6-12.5 13-26 21.2-41s17.5-29.8 28-44.6c10.3-14.8 18-24.6 22.6-29.5 4.8-4.8 8.8-8.7 12-11.5 3.4-2.8 9.2-5 17.6-6.2 8.4-1.3 14.7-2 19-2 3 0 5.3 1 7 2.6 2 1.8 2.8 4 2.8 7 0 2-.5 4-1.6 5.6-1 1.6-3.3 4-6.6 7-16 14.8-32.7 35.8-50 63-17.4 27.4-31.2 53.8-41.4 79.4-4.8 11.7-8 18.6-9.3 20.6-1.4 2-3.5 4-6.4 5.7-3 1.7-8.8 2.5-17.7 2.5-7 0-11.5-.4-13.4-1.3s-3.6-1.8-4.6-2.7c-1-1-4-5.2-9-12.7-5-8-12.6-17.2-22.3-28-5.5-6.2-8.3-11.4-8.3-15.5 0-6 3.2-11.3 9.6-15.8 6.4-4.5 12-6.7 17-6.7 5.3 0 11 2.2 17 6.5 6.3 4.4 11.8 10.2 16.7 17.5z" stroke-linecap="round" stroke-linejoin="round"/>
  </symbol>
  <symbol id="icon-folder" viewBox="0 0 256 256">
    <rect width="232" height="168" x="12" y="56" fill="#00675a" rx="12" ry="12"/>
    <rect width="122" height="35" x="34" y="24" fill="#00675a" rx="24" ry="24"/>
  </symbol>
  <symbol id="icon-file" viewBox="0 0 256 256">
    <path fill="#fff" d="M203.7 222.7h-153V30.3h96l57 47v145.4"/>
    <path fill="#00675a" d="M47.6 240A13.3 13.3 0 0 1 34 226.4V29.6A13.3 13.3 0 0 1 47.6 16h110.8a7.3 7.3 0 0 1 2.8.6l1.4.6h.2l1.5 1 .4.2 1.3 1.2 51.8 51.8a14 14 0 0 1 4.4 10.3 7.2 7.2 0 0 1-.2 1.7v143a13.3 13.3 0 0 1-13.6 13.6zM194 212V96h-37.8A14.4 14.4 0 0 1 142 81.8V44H62v168z"/>
  </symbol>
  <symbol id="icon-help" viewBox="0 0 256 256">
    <path d="M128 4a124 124 0 1 0 124 124A124 124 0 0 0 128 4zm3.6 206q-7.5 7.5-19.5 7.5-9.5 0-14.5-5t-5-14q0-12.8 7.5-20.5t19.7-7.7q9.5 0 14.4 5t5 14.2q0 12.8-7.3 20.4zM180 97.5a36.2 36.2 0 0 1-7 11 82.4 82.4 0 0 1-13.4 12q-8.4 6-21 14l-.7 1.3-.7 16.2-2.4 3.3-28.5 4.7-3.3-2-1.6-31.2 1.2-3.6 23-11q12.7-6.5 12.6-14.8t-9-12Q121 81 104 80l-2.8-4.2 13-28 4.3-2a112.3 112.3 0 0 1 25.7 3.6 74 74 0 0 1 20 8.6 42.8 42.8 0 0 1 13.2 12.5A27.8 27.8 0 0 1 182 86a33.2 33.2 0 0 1-2 11.6z"/>
  </symbol>
  <symbol id="icon-info" viewBox="0 0 256 256">
   <circle cx="128" cy="128" r="124" fill="#333"/>
   <path fill="#fff" d="M99.8 188.6q12-.8 12-12.5V140q0-7.4-2-9.8t-8.1-2.4l-2.7.4-1.9.2 1.7-17.5q9.5-1.1 18.7-2.4l16.6-2.6 16.5-2.7 2.7 4.6q-5.1 9.5-5.1 73.4 0 3.6 1.2 5t4.1 1.4h1.5l1.7-.2 1.7-.2.6 1.1-2.5 17.9-10.6-.4-9.4-.3H128q-4.9 0-10.1.3l-9.9.7-10.6 1.1zm30.8-97.9q-9.7 0-14.8-5.2t-5.1-14.9q0-10.1 5.7-16t15.8-5.9q9.5 0 14.6 5.3t5.1 14.8q0 10.1-5.7 16t-15.6 5.9z"/>
  </symbol>
  <symbol id="icon-info-close" viewBox="0 0 256 256">
   <circle cx="128" cy="128" r="124" fill="#333"/>
   <path fill="#fff" d="M164.9 185.7l-10.4.2-14.1.5-17.9.5-1.2-1.2 2.2-17.1q7.6-.2 7.6-3.7a4.6 4.6 0 0 0-.4-1.8 25.1 25.1 0 0 0-1.6-2.8l-10.8-14.2q-3.4 4.4-6.9 9.2T108 163q0 5.4 7.1 5.4l1 2-2 16.4-12-.5-9.4-.4H78.2l-7.6.4-8.3.5-1-2.4 2.2-16.4q2.9-1.2 7.4-5.9T84 146.6l18.1-22L88 105.8Q82.4 98 76.8 95.2a50 50 0 0 0-12.6-4.3l-.7-1.2 1.7-19.6 8.3.2h37.1l11.6-.4 11.8-.7 1.2 2-1.7 18.1q-7.3 0-7.3 4.6a10.9 10.9 0 0 0 1.2 5.4 34.6 34.6 0 0 0 3.7 5.1l6.4 8.1 7.6-11 2.9-4.8a7.9 7.9 0 0 0 1.2-4 3 3 0 0 0-1.5-2.8q-1.5-.9-5.4-.9l-.5-1 1.5-17.6h34.9l7.7-.2 8.1-.5.7 1.5-1.2 19.1a148.9 148.9 0 0 0-12.5 8.4 41.9 41.9 0 0 0-9.1 9.5l-17.6 25.4L169 152a63 63 0 0 0 11.1 11.2 22.4 22.4 0 0 0 11.9 4.2l.7.7-2.7 18.1-10-.2h-15.1z"/>
  </symbol>
</svg>


  






<svg hidden>
  <symbol id="icon-cheatsheet" viewBox="0 0 256 256">
    <path d="M222 78.3c0-2.2-1-4.2-2.5-5.6l-56-56-.7-.6h-.2l-.8-.3c-.3 0-.6-.3-1-.4H41.4c-4 0-7.5 3-7.5 7v212c0 4 3.2 7 7.3 7h173c4 0 7.5-2.8 7.5-7v-156zm-56-38L196.4 71H166V40.2zM49 226V30h102v48.3c0 4 3.2 7.7 7.3 7.7H207v140H49z"/>
  </symbol>
  <symbol id="icon-checklist" viewBox="0 0 256 256">
    <path d="M128 10.3C63 10.3 10.3 63 10.3 128S63 245.7 128 245.7 245.7 193 245.7 128 193 10.3 128 10.3zm0 215.6c-54 0-98-44-98-98s44-98 98-98 98 44 98 98-44 98-98 98z"/>
    <path d="M103.8 158.2c4-8.6 9-18 14.7-28.3 5.7-11 12-21 19.2-31 7.3-10 12.3-17 15.7-20 3.3-4 6-6 8.3-8 2.3-2 6.3-4 12-5 6-1 10.3-1.7 13.2-1.7 2 0 3 .6 4 2 1 1 2 3 2 5 0 1.2-1 2.5-1 4-1 1-2 2.3-5 4.5-11 11-22 25-34 44s-21.8 37-28.8 55c-3.4 8-5.5 13-6.5 14-1 1.4-2.4 2.7-4.4 4s-6 1.7-12 1.7c-4.8 0-8-.7-9.3-1-1-1-2.2-1-3-2-.6-1-3-4-6-9-3.3-5.5-8.5-12-15-19-4-4.7-6-8-6-11 0-4 2-7.8 6-11 4.4-3 8.3-4.5 11.7-4.5 3.7 0 7.7 1.3 12 4.3 4.2 3 8 7 11.3 12z"/>
  </symbol>
  <symbol id="icon-star" viewBox="0 0 256 256">
    <path d="M128 4.5l37 74.7 82.4 12-59.7 58.2 14 82-73.7-38.7-73.8 38.8 14-82L8.7 91l82.5-12"/>
  </symbol>
  <symbol id="icon-tool" viewBox="0 0 256 256">
    <path d="M206 122H50V13h126l.2 6.3c.5 17.6 7 24.5 23.8 25.2l6 .3V122zM63 109h130V56.7C176 54.2 166 44 163.8 26H63v83z"/>
    <path d="M59 20h28v95H59zm55 95v120.7c0 4.2 3.2 7.3 7.4 7.3h14.8c4.2 0 7.8-3 7.8-7.3V115h-30z"/>
  </symbol>
</svg>

<div class="masthead-wrap pad-t-1-2 pad-b-1-2">
  <header class="masthead grid grid-middle wrapper gutter-1-2 pad-b-1-2" role="banner">
    <div class="unit [ xs-1 m-1-4 ]">
      <a class="logo link-box" href="/"><img class="img-flex" src="/images/logo.svg" alt="Learn the Web"></a>
    </div>
    
      <nav class="top-nav unit [ xs-1 m-3-4 ] text-right" role="navigation">
        <ul class="push-0 list-group-inline">
          <li>
            <a class="btn btn-ghost nav-current" href="/topics/">
              <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-nav" /></svg></i>
              <span class="icon-label contents-link">Topics</span>
            </a>
          </li>
          <li>
            <a class="btn btn-ghost " href="/courses/">
              <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-courses" /></svg></i>
              <span class="icon-label contents-link">Courses</span>
            </a>
          </li>
          <li>
            <a class="btn btn-ghost " href="/activities/">
              <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-activities" /></svg></i>
              <span class="icon-label contents-link">Activities</span>
            </a>
          </li>
          <li class="nav-home">
            <a class="btn btn-ghost" href="/">
              <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-left" /></svg></i>
              <span class="icon-label contents-link">Home</span>
            </a>
          </li>
        </ul>
      </nav>
    
  </header>
</div>


<main class="relative" role="main" itemscope itemtype="http://schema.org/Article">
  <div class="header push">
    <div class="wrapper gutter-1-2 relative">
      
      
        <a class="play-btn link-box link-box-no-mark" href="https://www.youtube.com/playlist?list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ" data-playlist="PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ">
          <i class="icon play-icon"><svg><use xlink:href="#icon-play"/></svg></i>
          <strong class="giga icon-label play-icon-text">Watch the video playlist</strong>
        </a>
      
      
        <dl class="video-stats-default push-0 text-right gutter-1-2">
          <dt class="micro text-upper">Watched</dt>
          <dd class="yotta bold"><span id="playlist-watched-initial">0</span><sup class="milli">%</sup></dd>
        </dl>
      
      <div class="embed embed--4by1 video-embed"></div>
    </div>
    
      <div class="section-lightest" id="watch-stats" hidden>
        <div class="wrapper island-1-2">
          <dl class="video-stats push-0 clearfix relative">
            <dt class="micro text-upper">№ videos</dt>
            <dd class="bold left push-0 pad-t-1-2">
              <span class="yotta" id="playlist-items">0</span>
            </dd>
            <dt class="micro text-upper">Total time</dt>
            <dd class="bold left push-0 pad-t-1-2">
              <span class="yotta"><span id="playlist-time-hours">0</span><span class="mega">h</span></span>
              <span class="yotta"><span id="playlist-time-minutes">0</span><span class="mega">m</span></span>
              <span class="yotta"><span id="playlist-time-seconds">0</span><span class="mega">s</span></span>
            </dd>
            <dt class="micro text-right text-upper">Watched</dt>
            <dd class="text-right bold right push-0 pad-t-1-2">
              <span class="yotta" id="playlist-watched">0</span><sup class="video-stats-percent milli">%</sup>
            </dd>
          </dl>
        </div>
      </div>
    
  </div>

  <div class="grid wrapper relative gutter-1-2">
    <div class="unit [ xs-1 s-1 m-1 l-1-4 ] pad-t-1-2 push">
      <ul class="downloads list-group grid push-1-2">
        
        
        
        
        
          <li class="push-1-2 unit [ xs-1 s-1-2 l-1 ]">
            <a class="btn btn-ghost btn-subtle" href="https://github.com/acgd-learn-the-web/advanced-performance-code/archive/master.zip">
              <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-download"/></svg></i>
              <span class="icon-label">Download code</span>
            </a>
          </li>
        
        
          <li class="push-1-2 unit [ xs-1 s-1-2 l-1 ]">
            <a class="btn btn-ghost btn-subtle" href="https://github.com/acgd-learn-the-web/advanced-performance-code">
              <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-github"/></svg></i>
              <span class="icon-label">Browse code</span>
            </a>
          </li>
        
      </ul>

      <nav class="tutorial-nav" hidden>
        <input type="checkbox" class="visually-hidden nav-check" id="nav-check">
        <label class="nav-label giga" for="nav-check">
          <i class="icon i-nav"></i>
          <span class="icon-label">Contents</span>
        </label>
      </nav>
    </div>

    <article class="tutorial unit [ xs-1 s-1 m-1 l-3-4 ] pad-t-1-2">
      <h1 class="yotta" id="start" itemprop="name" tabindex="0">Advanced performance</h1>
      <div itemprop="articleBody">
        <p class="giga">Performance is one of the most important constraints of web design. There’s lots extra we can do to make our websites super fast and therefore our users super happy.</p>

<hr />

<h2 id="basic-performance-first">Basic performance first</h2>

<p>There’s a whole lot you can do to make your website faster before getting to these steps.</p>

<p><strong><a href="/topics/performance/">☛ Make sure you follow all the steps in the basic performance tutorial first.</a></strong></p>

<hr />

<h2 id="advanced-resource-compression">Advanced resource compression</h2>

<p>For images we always start by choosing the correct format, compressing as best we can, and running through ImageOptim. But there’s more we can do. And for other website resources we can increase performance with just a little care.</p>

<h3 id="smaller-png-8">Smaller PNG-8</h3>

<p>The difference between PNG-24 and PNG-8 is just the number of colours that can exist in the file:</p>

<ul>
  <li>PNG-8 — 256 colours.</li>
  <li>PNG-24 – millions of colours.</li>
</ul>

<p>When exporting our PNGs from Photoshop we always choose PNG-24 because Photoshop’s PNG-8 implementation isn’t correct, lacking 8-bit transparency.</p>

<p>But, PNG-8 has lots of performance gains because it can make much smaller file sizes with it’s limited colour palette. There’s another tool called <a href="http://pngmini.com/">ImageAlpha</a> that allows us to take our PNG-24 graphics and convert them to PNG-8, reducing their colour palette but keeping nice transparency.</p>

<p>Open up ImageAlpha and drag and drop your PNG into its window.</p>

<p><img src="imagealpha.jpg" alt="" /></p>

<p>Using the slider on the left, reduce the number of colours until the image doesn’t become distorted. Try to make the colours number as small as possible without destroying the integrity of the image.</p>

<p>After you’re finished you have to re-save the image over top, so go to the menu and go to <code>File &gt; Save As…</code> and just overwrite your original PNG. Check “Optimize with ImageOptim” to get an extra size reduction.</p>

<p>With the image you’re seeing above the size reduction was pretty great, with no noticeable loss of quality.</p>

<ul>
  <li>Original PNG-24: <strong>58 KB</strong></li>
  <li>New PNG-8, 16 colours: <strong>7 KB</strong></li>
</ul>

<h3 id="blur-jpgs-to-reduce-file-size">Blur JPGs to reduce file size</h3>

<p>One way to significantly decrease the size of JPG files is to blur the sections that aren’t the focus. Literally take the blur tool in Photoshop and significantly blur out the background of the image.</p>

<p>Compare these two images:</p>

<p><img src="original.jpg" alt="" /></p>

<p>This is the original JPG—136 KB.</p>

<p><img src="blurred.jpg" alt="" /></p>

<p>This one has a blurred background—102 KB.</p>

<p><em>Photos copyright <a href="http://elizabethandjane.ca/">elizabeth&amp;jane photography</a>.</em></p>

<h3 id="optimize-favicons">Optimize favicons</h3>

<p>Since favicons are automatically requested on every website there’s a few things you can do to increase their performance.</p>

<ol>
  <li><strong>Make sure it exists</strong> — the browser will automatically request it, so if it doesn’t exist there will still be a delay while attempting to fetch it.</li>
  <li><strong>Smush the PNGs first</strong> — before creating the final <code>.ico</code> file make sure to run you favicon PNGs through ImageOptim. And ideally you should be able to run them through ImageAlpha to compress the images even further.</li>
</ol>

<h3 id="embed-single-use-svgs">Embed single-use SVGs</h3>

<p>If an SVG image is used only once on your website, on a single page, consider embedding it directly into the HTML.</p>

<p><strong><a href="/topics/advanced-svg/">See the advanced SVG tutorial on how to embed SVGs in HTML.</a></strong></p>

<h3 id="reduce-web-font-size">Reduce web font size</h3>

<p>Most typefaces come with many characters so they can support lots of different languages. But, depending on the site you’re making you may only need a few of those characters. For example, if your website is only in English you can remove a bunch of characters from the font file. Removing characters from the font file is called sub-setting.</p>

<p>Google Fonts provides a limited sub-setting of their typefaces, but you can download the fonts and run them through another system to truly reduce the file size.</p>

<h4 id="sub-set-fonts-with-fontsquirrel">Sub-set fonts with FontSquirrel</h4>

<p>Go to <a href="http://www.fontsquirrel.com/tools/webfont-generator">FontSquirrel’s Web Font Generator</a> and upload the styles and weights of the fonts you’re planning on using.</p>

<p><img src="fontsquirrel.jpg" alt="" /></p>

<p><strong>The “Optimal” setting is likely what you need.</strong></p>

<p>I usually go with “Expert…” and only choose “WOFF” for the font formats because, <a href="http://caniuse.com/#feat=woff">according to Can I Use, it has good enough browser support</a>—custom fonts are a luxury, not a must have.</p>

<p>After you’ve downloaded the font package, put the font files in your website, maybe a folder named <code>fonts</code>—<a href="#content-delivery-networks">or ideally on a CDN</a>. Then copy the CSS from the CSS file into the top of your CSS—you may have to update the font paths at the top of the CSS you copied-and-pasted.</p>

<p>Looking at Roboto, the typeface I used above, these are my file size reductions:</p>

<ul>
  <li>Roboto Regular: 163 KB to 26 KB.</li>
  <li>Roboto Italic: 161 KB to 30 KB.</li>
  <li>Roboto Bold: 162 KB to 26 KB.</li>
</ul>

<h3 id="embed-small-images-in-css">Embed small images in CSS</h3>

<p>For really small graphics it makes more sense to embed them directly into your CSS or HTML instead of forcing the browser to open another request and download the file. These are called Data URIs.</p>

<p>Data URIs are great for small PNGs, like icons, and also work really well for small SVGs.</p>

<p>Here’s an example of some CSS:</p>

<pre><code class="language-css">.icon {
  background-image: url("../icon.png");
}
</code></pre>

<p>With this in your CSS, the browser will encounter the <code>background-image</code> line then go and download the <code>icon.png</code> file. Even though the icon is really small the overhead of having to open another connection to the server and initiate the download takes time.</p>

<p>But, using a tool like <a href="http://dataurl.net/#dataurlmaker">DataURL.net</a>, we can convert the icon to text and embed it into our CSS file.</p>

<p>Our CSS would then look like this:</p>

<pre><code class="language-css">.icon {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYA…");
}
</code></pre>

<p><em>Be careful with data URIs, because they can make the image file size larger, the saving with data URIs is there isn’t another request—so stick to small images only.</em></p>

<h4 id="svgs-as-data-uris">SVGs as Data URIs</h4>

<p>We can do something really similar with SVGs, embed them directly into our CSS:</p>

<pre><code class="language-css">.icon {
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='3' height='10' viewBox='0 0 3 10'%3E%3Crect fill='%23e2e2e2' x='0' y='0' width='3' height='10'/%3E%3C/svg%3E");
}
</code></pre>

<p>There’s a few important things to notice about the embedded SVG:</p>

<ul>
  <li>The whole thing is surrounded in double quotes (“).</li>
  <li>But the SVG inside, is in single quotes (‘) — most tools will output those as double quotes.</li>
  <li>All greater than symbols (&gt;) are replaced with <code>%3E</code>.</li>
  <li>All less than symbols (&lt;) are replaced with <code>%3C</code>.</li>
  <li>All hashes (#) are replaced with <code>%23</code>.</li>
</ul>

<p><em>I generally don’t do this manually, but use a tool like Gulp. <a href="#command-line-tools">Read more about command-line tools below.</a></em></p>

<p><strong>Links</strong></p>

<ul>
  <li><strong><a href="http://pngmini.com/">ImageAlpha</a></strong></li>
  <li><strong><a href="http://www.fontsquirrel.com/tools/webfont-generator">FontSquirrel Web Font Generator</a></strong></li>
  <li><a href="https://zoompf.com/blog/2012/04/instagram-and-optimizing-favicons">Instagram and Optimizing Favicons</a></li>
  <li><a href="http://dataurl.net/#dataurlmaker">DataURL.net</a></li>
  <li><a href="https://datauriconverter.appspot.com/">Data URI Converter</a></li>
  <li><a href="http://image2base64.wemakesites.net/">Image2Base64</a></li>
  <li><a href="http://jpillora.com/base64-encoder/">Base64 File Encoder</a></li>
  <li><a href="http://codepen.io/Tigt/blog/optimizing-svgs-in-data-uris">Optimizing SVGs in data URIs</a></li>
  <li><a href="https://jamiemason.github.io/ImageOptim-CLI/">Comparison of all optimisation tools</a></li>
</ul>

<hr />

<h2 id="reduce-the-size-of-code">Reduce the size of code</h2>

<p><em>First, try remove all the duplicate code and try to merge your CSS into common components.</em></p>

<p>After doing that we can reduce the size of our code even more, a process called minification. It’s like smushing images, but for code. It removes all the extra characters, all the white space, all the tabs—everything that’s helpful for humans and unnecessary for computers. Resulting in a smaller file size.</p>

<p>Concatenation is just a fancy word for combining.</p>

<h3 id="css--js-minification--concatenation">CSS &amp; JS minification &amp; concatenation</h3>

<p>We use these two processes on our CSS and Javascript files. Combine together all our CSS files into one file and strip all the extra stuff to make them download faster. We even combine all our Javascript files together, strip the whitespace, and some minifiers even rename functions to a single letter to save space.</p>

<h4 id="css-minification-example">CSS minification example</h4>

<p>Here’s an idea of what CSS will look like before and after minification.</p>

<p>Before:</p>

<pre><code class="language-css">body {
  color: red;
  font: sans-serif;
}

h1 {
  color: green;
  font-weight: bold;
}
</code></pre>

<p>After:</p>

<pre><code class="language-css">body{color:red;font:sans-serif}h1{color:green;font-weight:bold}
</code></pre>

<p>The computer can’t tell the difference between the two pieces of code, and it saves us a lot in download time.</p>

<h4 id="js-minification-example">JS minification example</h4>

<p>Here’s what Javascript might look like before and after minification.</p>

<p>Before:</p>

<pre><code class="language-js">var $btn = $('.btn');
var onBtnClick = function (e) {
  $btn.addClass('is-active');
}

$btn.on('click', onBtnClick);
</code></pre>
<p>After:</p>

<pre><code class="language-js">var a=$('.btn'),b=function(){a.addClass('is-active')};a.on('click',b);
</code></pre>

<p>Notice how the variables and functions have been renamed and simplified.</p>

<h3 id="minification-naming">Minification naming</h3>

<p>After your files have been minified it’s convention to append the <code>.min</code> extension onto them.</p>

<p><strong>Never delete the original source file. Always keep the original and the minified versions.</strong></p>

<p>For CSS you’ll end up with something like this:</p>

<pre><code>main.css
main.min.css
</code></pre>

<p><strong>In your HTML you point to the minified version of your CSS, like this:</strong></p>

<pre><code class="language-html">&lt;link href="css/main.min.css" rel="stylesheet"&gt;
</code></pre>

<h3 id="minification-tools">Minification tools</h3>

<p>Minification is a process that shouldn’t be done by hand, but should be automated by a tool. There are lost of different tools, manual &amp; automatic, GUI &amp; command line. Many of these tools will even automatically minify when you save your file. <em>Choose the one that works best for you.</em></p>

<h4 id="gui-tools">GUI tools</h4>

<p>GUI tools provide an interface where you can drag and drop a project folder. The tool will detect CSS and Javascript files and minify them for you.</p>

<p>Some popular GUI tools are <a href="https://prepros.io/">Prepros</a> &amp; <a href="http://incident57.com/codekit/">CodeKit</a>.</p>

<h4 id="command-line-tools">Command-line tools</h4>

<p>Command-line tools are extremely popular (and this is how I do it). They have many advantages over GUI tools but are slightly more complicated to get running.</p>

<p>Some of the popular command-line tools are <strong><a href="http://gulpjs.com/">Gulp</a></strong> &amp; <a href="http://gruntjs.com/">Grunt</a>. The tools are really just task runners, they delegate to other pieces of code to do the minification and concatenation.</p>

<ul>
  <li>For CSS a popular minifier is <a href="https://www.npmjs.com/package/clean-css">clean-css</a> or <a href="http://cssnano.co/">cssnano</a>.</li>
  <li>For JS the most widely used minifier is <a href="http://lisperator.net/uglifyjs/">UglifyJS</a>.</li>
</ul>

<p>These minifiers can be run without a task runner, but it’s a much less manual if you use something like Gulp.</p>

<h5 id="concatenation-with-jekyll">Concatenation with Jekyll</h5>

<p>If you’re using Jekyll you can use its include system to concatenate CSS and Javascript.</p>

<p><strong><a href="https://www.youtube.com/watch?v=H4Fc2xL79nU&amp;list=PLWjCJDeWfDdfVEcLGAfdJn_HXyM4Y7_k-&amp;index=28">☛ Watch a video on concatenating CSS with Jekyll.</a></strong></p>

<h4 id="automatic-minification-with-cloudflare">Automatic minification with CloudFlare</h4>

<p>If your CSS and Javascript files are already concatenated, then you can get CloudFlare to automatically minify them for you. This works really well if you’re using Jekyll to combine files.</p>

<p><img src="cloudflare-minify.jpg" alt="" /></p>

<p>Go to the “Speed” section and check all the options in “Auto Minify̦”.</p>

<p><strong>Links</strong></p>

<ul>
  <li><strong><a href="http://gulpjs.com/">Gulp</a></strong>, <a href="https://css-tricks.com/gulp-for-beginners/">Gulp for Beginners</a></li>
  <li><a href="http://gruntjs.com/">Grunt</a></li>
  <li><a href="https://prepros.io/">Prepros</a></li>
  <li><a href="http://incident57.com/codekit/">CodeKit</a></li>
  <li><a href="http://cssnano.co/">cssnano</a></li>
  <li><a href="http://lisperator.net/uglifyjs/">UglifyJS</a></li>
  <li><a href="http://www.sitepoint.com/guide-to-npm-as-a-build-tool/">Give Grunt the Boot! A Guide to Using npm as a Build Tool</a></li>
</ul>

<hr />

<h2 id="server-considerations">Server considerations</h2>

<p>Not only is it extremely important to make our code and resources, like images, download really quickly, but the server we host our website can have a big impact too.</p>

<h3 id="compress-code-files">Compress code files</h3>

<p>After minifying and concatenating our CSS and Javascript, we can make the download size of the files even smaller by compressing them—basically zipping them. This is a completely automatic process done by the server.</p>

<p><em>When using GitHub as a host, you’ll have to hook up CloudFlare to get the best compression.</em></p>

<ul>
  <li>For the Apache web server, <a href="https://github.com/h5bp/server-configs-apache/blob/master/dist/.htaccess">check out the configuration provided by HTML5 Boilerplate</a>.</li>
  <li>For the Nginx web server, <a href="https://github.com/h5bp/server-configs-nginx/blob/master/nginx.conf">also check out the configuration provided by HTML5 Boilerplate</a>.</li>
  <li><a href="https://github.com/h5bp/server-configs">There’s more configurations in the repository too.</a></li>
</ul>

<h3 id="caching-headers">Caching headers</h3>

<p>Another thing you want to set up on your server is proper caching headers. The idea behind caching headers is that they encourage the user’s browser to save a copy of your website on the local computer. You can choose how long the local copy should be kept.</p>

<p>This is really great for CSS and Javascript because each new page the user goes to they don’t have to redownload the CSS, it’s already on their computer.</p>

<p><em>When using GitHub as a host, you have no control over this, so hooking up CloudFlare is a great solution.</em></p>

<p><em>Check the server configurations above for setting this up on other web servers.</em></p>

<h3 id="automatic-server-setup-with-cloudflare">Automatic server setup with CloudFlare</h3>

<p>If you’re using CloudFlare you can set up the proper compression and caching headings really easily. In fact the compression is already on.</p>

<p>For the caching headers, go to the “Caching” section:</p>

<p><img src="cloudflare-caching.jpg" alt="" /></p>

<p>At the very top set the “Caching Level” to “Standard”.</p>

<p><img src="cloudflare-expires.jpg" alt="" /></p>

<p>Scroll down a little and set the “Browser Cache Expiration̦” to something high, like “1 month”. You may as well turn on “Always Online” while you’re at it.</p>

<p><strong>Links</strong></p>

<ul>
  <li><a href="https://www.digitalocean.com/community/tutorials/web-caching-basics-terminology-http-headers-and-caching-strategies">Web Caching Basics: Terminology, HTTP Headers, and Caching Strategies</a></li>
  <li><a href="https://css-tricks.com/the-difference-between-minification-and-gzipping/">The Difference Between Minification and Gzipping</a></li>
</ul>

<hr />

<h2 id="content-delivery-networks">Content delivery networks</h2>

<p>Content delivery networks (CDNs) allow us to distribute our resources around the world on lots of different servers. Then when a user downloads our website they receive the file from the server that’s closest to them making it download more quickly.</p>

<p>Most often we put our static files on CDNs, primarily images, because they’re the files that most benefit from CDNs.</p>

<p><em>Using a CDN when hosting on GitHub is really helpful because Git/GitHub do not support large files. Things like fonts, large images, videos, etc. should all go onto a CDN instead of in your repository.</em></p>

<h3 id="cloudflare">CloudFlare</h3>

<p>CloudFlare is a very popular CDN with lots of great free features. But not only do they provide CDN features—automatically—they also perform other performance tasks: like minification, caching headers, gzipping and more.</p>

<p>After CloudFlare becomes our DNS provider these features are fairly automatic after the set up. They even provide a bunch of security features like DDOS protection and free HTTPS for websites.</p>

<p><em>If you’re hosting on GitHub you’ll have to use a <a href="/topics/domains/"><strong>☛ custom domain</strong></a> in order to take advantage of CloudFlare.</em></p>

<p><em>Also not that if you’re hosting on GitHub the HTTPS isn’t true: the connection between your user and CloudFlare is encrypted, but the connection between CloudFlare and GitHub is not. This is just a limitation of GitHub hosting right now.</em></p>

<p><strong><a href="/topics/domains#better-security-and-performance-with-cloudflare">☛ See how to set up CloudFlare as your DNS provider.</a></strong></p>

<h3 id="keycdn">KeyCDN</h3>

<p>KeyCDN is another very popular CDN. They are a little more traditional than CloudFlare: they only provide resource hosting, not all the other compression &amp; security features.</p>

<p>With KeyCDN we can either upload our large files to them or host the files on our server and KeyCDN will pull them onto their servers and distribute them around the world.</p>

<p><strong><a href="/topics/video-audio/#hosting-on-a-cdn">☛ See how to use KeyCDN to host large video files.</a></strong></p>

<p><strong>Links</strong></p>

<ul>
  <li><a href="http://www.kendoui.com/blogs/teamblog/posts/13-11-07/know-when-to-cdn.aspx">Know When to CDN</a></li>
  <li><strong><a href="https://www.cloudflare.com/">CloudFlare</a></strong> — also provides security, minification, caching headers</li>
  <li><strong><a href="https://www.keycdn.com/">KeyCDN</a></strong></li>
  <li><a href="http://cdnjs.com/">cdnjs</a></li>
  <li><a href="http://www.maxcdn.com/">MaxCDN</a></li>
  <li><a href="http://www.coralcdn.org/">Coral CDN</a></li>
  <li><a href="http://aws.amazon.com/cloudfront/">Amazon CloudFront</a></li>
  <li><a href="https://kraken.io/">Kraken.io</a></li>
</ul>

<hr />

<h2 id="ads-and-tracking-scripts">Ads and tracking scripts</h2>

<p>One major killer of performance on your website is third-party scripts, like advertisements and trackers, that you can’t completely control.</p>

<p>Be sure to test any ad services and tracking systems you use on your website to make sure they don’t completely destroy the performance.</p>

<hr />

<h2 id="browser-performance">Browser performance</h2>

<p>Even though the download time of our website is one of the biggest contributers to slow websites we can also help the browser render our website more quickly.</p>

<h3 id="rendering-performance">Rendering performance</h3>

<p>The time it takes for our website to become visible on the screen is really important, we want to try to avoid white screens and unstyled text as much as possible.</p>

<h4 id="webfonts-delay-rendering">Webfonts delay rendering</h4>

<p>Fonts can impede rendering with an effect called “Flash of Invisible Text”. FOIT is when the website background colours and CSS design renders but there is absolutely no text on the page. After at least a few hundred milliseconds the text pops into the design.</p>

<p>FOIT makes the website feel like it’s loading more slowly—it technically isn’t—but the time to screen is longer.</p>

<p>This is a choice that browsers have made when rendering websites: choosing to hide the text until the font has finished loading.</p>

<p>There are a few solutions to this problem, but most importantly make sure your website renders properly without your custom typeface.</p>

<p>Most solutions delay the loading of the fonts and show the default web-safe fonts until after the font face loads. After the font face has finished loading we add it to the page, add a class to the page that changes the font to the custom typeface.</p>

<h5 id="using-font-face-observer">Using Font Face Observer</h5>

<p>There’s a great Javascript solution—<a href="https://github.com/bramstein/fontfaceobserver">Font Face Observer</a>—that can help our websites visually load more quickly by displaying our fallback font while the font is loading then switching into the web font when it’s ready.</p>

<p>To make Font Face Observer work there’s a few things to do. First we download the Javascript file and place it in a <code>&lt;script&gt;</code> tag directly at the bottom of our page:</p>

<pre><code class="language-html">  &lt;script&gt;
    // Paste everything from `fontfaceobserver.js` into here
    (function(){'use strict';…
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Next up we write a little script that checks if the font has finished loading. When it has finished loading, then we add a class to the <code>&lt;html&gt;</code> element.</p>

<pre><code class="language-html">  &lt;script&gt;
    (function(){'use strict';…
  &lt;/script&gt;
  &lt;script&gt;
    var observer;

    if (!sessionStorage.fontsLoaded) {
      // On this line we specify the font exactly how it’s written in our CSS
      observer = new FontFaceObserver('Bree Serif');

      observer.load().then(function () {
        document.documentElement.className += ' fonts-loaded';
        sessionStorage.fontsLoaded = true;
      });
    } else {
      document.documentElement.className += ' fonts-loaded';
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><em>If you have more than one font weight or style you’ll need a slightly more advanced script. <a href="https://github.com/acgd-learn-the-web/acgd-learn-the-web.github.io/blob/master/_includes/alegreya-observer.js">See the font face observer script for this website with multiple weights and styles.</a></em></p>

<p>After that’s in place, we just need to adjust our CSS a little bit to display fallback font first:</p>

<pre><code class="language-css">/* All the `@font-face` stuff would be above here */

html {
  /* Here we specify our fallback font only */
  font-family: Georgia,serif;
}

.fonts-loaded {
  /* Here we specify our web font too */
  font-family: "Bree Serif",Georgia,serif;
}
</code></pre>

<p>The reason we don’t specify the primary web font on the <code>&lt;html&gt;</code> directly is because it will freeze the display immediately as the browser tries to use it. By putting the web font under a class—that gets added by Font Face Observer—the browser can default to our fallback and only display the web font when it’s ready.</p>

<p><strong>It’s important that you find a fallback font that closely matches your web font is height, weight, etc.</strong></p>

<h6 id="preloading-fonts">Preloading fonts</h6>

<p>To take it even a step further we can request that the browser download our fonts ahead of time to encourge a quicker rendering by using <code>&lt;link&gt;</code> tag in the <code>&lt;head&gt;</code>.</p>

<pre><code class="language-html">&lt;head&gt;
  ⋮
  &lt;link href="fonts/breeserif-regular.woff" rel="preload" as="font"&gt;
</code></pre>

<h5 id="fancy-font-features">Fancy font features</h5>

<p>There are lots of great features of fonts that we can use on the web but each new feature has some performance issues.</p>

<p>Consider how important these features are before implementing them.</p>

<ul>
  <li><code>hyphens</code> — causes rendering lag because the browser has to calculate where all the hyphens should be and re-layout the content—every time the page loads or screen resizes.</li>
  <li><code>text-rendering: optimizeLegibility</code> — adds a bunch of features like ligatures and hyphens to your text but currently has abysmal performance on browsers, so be very careful.</li>
</ul>

<h4 id="inlining-critical-css">Inlining critical CSS</h4>

<p>Many performance advocates—especially Google—really push for inlining critical CSS. The idea is to figure out the CSS that is used to display the content that’s visible on the screen before scrolling, then take that CSS and put it into <code>&lt;style&gt;</code> tags.</p>

<pre><code class="language-html">&lt;head&gt;
  &lt;style&gt;
    /* Put the CSS for the top portion of the site here */
  &lt;/style&gt;
&lt;/head&gt;
</code></pre>

<p>This isn’t something you really want to do manually, but something you should leave up to tools—something like <a href="https://github.com/addyosmani/critical">Critical</a> in combination with <a href="http://gulpjs.com/">Gulp</a>.</p>

<h5 id="inlining-css-for-single-page-websites">Inlining CSS for single page websites</h5>

<p>When you’re creating a single page website it makes total sense to put <em>all</em> your CSS and Javascript directly into the page: CSS between <code>&lt;style&gt;</code> tags and JS between <code>&lt;script&gt;</code> tags. Make sure you completely minify the code before doing so.</p>

<p><a href="http://thomasjbradley.ca">You can see inline CSS in action on my website.</a></p>

<h3 id="preventing-javascript-from-blocking-rendering">Preventing Javascript from blocking rendering</h3>

<p>Javascript is a blocking resource, it will prevent the browser from displaying the webpage until it has finished downloading and executing. The performance implications of this are that our users may see a blank white webpage, or may not be able to scroll and interact while the Javascript is doing its thing.</p>

<p>There are two good practices we can do to our Javascript to improve rendering time.</p>

<ol>
  <li>Always put the Javascript at the bottom, immediately above the closing <code>&lt;/body&gt;</code> tag.</li>
  <li>Add the <code>async</code> attribute to make the browser download and execute the Javascript in the background.</li>
</ol>

<pre><code class="language-html">  &lt;script src="js/main.min.js" async&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h3 id="scrolling-performance">Scrolling performance</h3>

<p>Nothing is worse than a website that doesn’t scroll smoothly, aka a janky website.</p>

<p>There are a few things that can cause scrolling and performance issues, so be careful of these things:</p>

<ul>
  <li><code>position: fixed</code> &amp; <code>background-attachment: fixed</code> can have major performance issues causing the browser to re-render the whole page every time you scroll.</li>
  <li>CSS effects: <code>text-shadow</code>, <code>box-shadow</code> and especially <code>filter</code>.</li>
  <li>Parallax is almost always janky, there is so much changing on the screen every time you scroll browsers have a difficult time keeping up.</li>
  <li>Javascript waypoints and scrolling based animations can cause problems since Javascript needs to run and calculate every time a person scrolls to check the scroll location.</li>
</ul>

<p>There is a fairly new CSS property called <code>will-change</code>, it can help with a few of these issues. <a href="https://dev.opera.com/articles/css-will-change-property/">Sara Soueidan</a> &amp; <a href="https://fourword.fourkitchens.com/article/fix-scrolling-performance-css-will-change-property">Chris Ruppel</a> both have great articles on <code>will-change</code>.</p>

<h3 id="battery-drain-cpu-load--memory-usage">Battery drain, CPU load &amp; memory usage</h3>

<p>Since the web is a big place with many different devices, there’s lots of devices that have slower processors, less memory to render websites—and batteries. Nobody wants their battery to be drained by a sucky website.</p>

<p>There are a few things to consider that can cause these problems:</p>

<ul>
  <li><strong>Oversized images</strong> — large images, much bigger than the device, cause memory problems because they need to be shrunk down to display on the screen, but are still too big for the device.</li>
  <li><strong>Data URIs</strong> — can cause processor lag because they have to be decompressed and re-generated into their original format.</li>
  <li><strong>Lots of unnecessary downloads, trackers, etc.</strong> — the more you use the network on the device the more battery is consumed, the more memory is used, etc. Be careful.</li>
</ul>

<p><strong>Links</strong></p>

<ul>
  <li><strong><a href="https://github.com/bramstein/fontfaceobserver">Font Face Observer</a></strong></li>
  <li><a href="https://viget.com/extend/the-font-face-dilemma">The @font-face dilemma</a></li>
  <li><a href="https://www.filamentgroup.com/lab/font-loading.html">How we use web fonts responsibly, or, avoiding a @font-face-palm</a></li>
  <li><a href="https://www.filamentgroup.com/lab/font-events.html">Font Loading Revisited with Font Events</a></li>
  <li><a href="http://csstriggers.com/">CSS Triggers… A game of layout, paint, and composite.</a></li>
  <li><a href="https://gist.github.com/paulirish/5d52fb081b3570c81e3a">What forces layout / reflow</a></li>
  <li><a href="https://dev.opera.com/articles/css-will-change-property/">Everything You Need to Know About the CSS will-change Property</a></li>
  <li><a href="https://fourword.fourkitchens.com/article/fix-scrolling-performance-css-will-change-property">Fix scrolling performance with CSS will-change property</a></li>
  <li><a href="http://fourword.fourkitchens.com/article/use-gulp-automate-your-critical-path-css">Use Gulp to automate your critical path CSS</a></li>
  <li><a href="http://www.smashingmagazine.com/2015/08/understanding-critical-css/">Understanding Critical CSS</a></li>
  <li><a href="http://www.sitepoint.com/10-ways-minimize-reflows-improve-performance/">10 Ways to Minimize Reflows and Improve Performance</a></li>
  <li><a href="http://jankfree.org/">Jank Free</a></li>
  <li><a href="https://varvy.com/pagespeed/critical-render-path.html">Critical rendering path</a></li>
  <li><a href="https://jonsuh.com/blog/font-loading-with-font-events/">Faster Font Loading with Font Events</a></li>
  <li><a href="http://iosfonts.com/">iOS Fonts</a></li>
  <li><a href="http://ffffallback.com/">Ffffallback</a></li>
  <li><a href="https://speakerdeck.com/bramstein/web-fonts-performance">Web Fonts Performance</a></li>
  <li><a href="http://miranj.in/blog/2015/collateral-damage">Collateral Damage</a></li>
  <li><a href="https://helloanselm.com/2015/using-webfonts-in-2015/">Using Web Fonts The Best Way (in 2015).</a></li>
  <li><a href="http://www.bramstein.com/writing/preload-hints-for-web-fonts.html">Preload Hints For Web Fonts</a></li>
  <li><a href="http://bramstein.com/writing/web-font-anti-patterns.html">Web Font Anti-Patterns</a></li>
</ul>

<hr />

<h2 id="video-list">Video list</h2>

<ol>
  <li><a href="https://www.youtube.com/watch?v=DvALia-wU5k&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=1">Advanced performance: ImageAlpha + PNG-8</a></li>
  <li><a href="https://www.youtube.com/watch?v=P2WFfpWIlGU&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=2">Advanced performance: blurring JPGs</a></li>
  <li><a href="https://www.youtube.com/watch?v=9llDkAYTju4&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=3">Advanced performance: optimizing favicons</a></li>
  <li><a href="https://www.youtube.com/watch?v=CVTt4msJVXM&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=4">Advanced performance: sub-setting fonts</a></li>
  <li><a href="https://www.youtube.com/watch?v=B-J5IEjilO0&amp;index=5&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ">Advanced performance: delaying font rendering</a></li>
  <li><a href="https://www.youtube.com/watch?v=pzNGhDD-1QU&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=6">Advanced performance: data URIs</a></li>
  <li><a href="https://www.youtube.com/watch?v=Np7TnNlRSFE&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=7">Advanced performance: SVG data URIs</a></li>
  <li><a href="https://www.youtube.com/watch?v=mb6q-MG8LWs&amp;list=PLWjCJDeWfDdfmwQEiq7uyItB0c47y2inQ&amp;index=8">Advanced performance: CloudFlare settings</a></li>
</ol>

<h2 id="supplemental-links">Supplemental links</h2>

<ul>
  <li><a href="http://designingforperformance.com/">Designing for Performance</a></li>
  <li><a href="https://speakerdeck.com/patrickhamann/breaking-news-at-1000ms-front-trends-2014">Breaking news at 1000ms</a></li>
  <li><a href="https://developers.google.com/web/fundamentals/performance/">Google Web Fundamentals: Performance</a></li>
  <li><a href="https://css-tricks.com/performance-tools/">Performance Tools</a></li>
  <li><a href="https://www.filamentgroup.com/lab/weight-wait.html">More Weight Doesn’t Mean More Wait</a></li>
  <li><a href="https://jonsuh.com/blog/need-for-speed-2/">Need for Speed 2: Improving Front-End Performance</a></li>
  <li><a href="http://websiteperformancechecklist.com/">Website Performance Checklist</a></li>
  <li><a href="http://learn.shayhowe.com/advanced-html-css/performance-organization/">Performance &amp; Organization</a></li>
  <li><a href="https://css-tricks.com/prefetching-preloading-prebrowsing/">Prefetching, preloading, prebrowsing</a></li>
  <li><a href="https://varvy.com/pagespeed/">Pagespeed Optimization</a></li>
  <li><a href="https://varvy.com/performance/">Web performance</a></li>
  <li><a href="http://www.smashingmagazine.com/2015/10/rail-user-centric-model-performance/">Introducing RAIL: A User-Centric Model For Performance</a></li>
</ul>

      </div>
    </article>
  </div>

</main>

<aside>
  
  
  
  

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    

      
        
      

    

    

  

    

    

    
      
    

    

  

    

    

    

      
        
        
        

  <div class="tutorial-footer wrapper gutter-1-2 pad-t pad-b">
    <ul class="list-group controls push-0">
      
        
        
        
        <li class="controls-prev push-1-4">
          <a class="btn btn-ghost" href="/topics/video-audio/" rel="prev">
            <i class="icon i-24 i-shift-left"><svg><use xlink:href="#icon-left" /></svg></i>
            <span class="icon-label">Video & audio</span>
          </a>
        </li>
      
      <li class="controls-start push-1-4">
        <a class="btn btn-ghost" href="/topics/#advanced-performance" rel="start">
          <i class="icon i-24 push-r-1-4"><svg><use xlink:href="#icon-nav" /></svg></i>
          <span class="icon-label">Topics</span>
        </a>
      </li>
      
        
        
        
        <li class="controls-next push-1-4">
          <a class="btn btn-ghost" href="/topics/advanced-performance-checklist/" rel="next">
            <span class="icon-label">Advanced performance checklist</span>
            <i class="icon i-24 i-shift-right"><svg><use xlink:href="#icon-right" /></svg></i>
          </a>
        </li>
      
    </ul>
  </div>
</aside>



  <div class="footer-wrap pad-t-1-2 pad-b-1-2">
    <footer class="footer grid wrapper gutter-1-2" role="contentinfo">
      <div class="unit [ xs-1 s-1 m-2-5 unit-push-m-3-5 l-2-5 ]">
        <ul class="list-group footer-links micro">
          <li>
            <a class="icon-link link-box link-box-no-mark" href="/get-help/" rel="external">
              <i class="icon i-18"><svg><use xlink:href="#icon-help"/></svg></i>
              <strong class="icon-label">Get help</strong>
            </a>
          </li>
          <li>
            <a class="icon-link link-box link-box-no-mark" href="/solutions/" rel="external">
              <i class="icon i-18"><svg><use xlink:href="#icon-victory"/></svg></i>
              <span class="icon-label">Solutions for teachers</span>
            </a>
          </li>
          <li class="push-1-2">
            <a class="icon-link link-box link-box-no-mark" href="/schedule/" rel="external">
              <i class="icon i-16"><svg><use xlink:href="#icon-courses"/></svg></i>
              <span class="icon-label">Term schedule</span>
            </a>
          </li>
        </ul>
        <ul class="list-group-inline footer-links micro">
          <li class="push-r-1-4">
            <a class="icon-link link-box link-box-no-mark" href="https://github.com/acgd-learn-the-web" rel="external">
              <i class="icon i-18"><svg><use xlink:href="#icon-github"/></svg></i>
              <span class="icon-label">GitHub</span>
            </a>
          </li>
          <li class="push-r-1-4">
            <a class="icon-link link-box link-box-no-mark" href="https://www.youtube.com/user/acinteractivedesign" rel="external">
              <i class="icon i-18"><svg><use xlink:href="#icon-play"/></svg></i>
              <span class="icon-label">YouTube</span>
            </a>
          </li>
          <li>
            <a class="icon-link link-box link-box-no-mark" href="https://github.com/acgd-learn-the-web/topics/issues" rel="external">
              <i class="icon i-18"><svg><use xlink:href="#icon-bug"/></svg></i>
              <span class="icon-label">Feedback</span>
            </a>
          </li>
        </ul>
      </div>
      <div class="unit [ xs-1 s-1 m-3-5 unit-pull-m-2-5 l-3-5 ]">
        <small class="copyright micro">© Algonquin College Graphic Design — <a href="http://algonquindesign.ca/">algonquindesign.ca</a>.</small>
        <small class="copyright micro">All code for this website licensed under the <a href="https://github.com/acgd-learn-the-web/acgd-learn-the-web.github.io/blob/master/LICENSE" rel="license">MIT License</a>.</small>
        <small class="copyright micro">All tutorial code licensed under the <a href="https://github.com/acgd-learn-the-web/topics/blob/master/UNLICENSE" rel="license">Unlicense</a>.</small>
        <small class="copyright micro">All text, imagery, design, tutorials &amp; videos licensed under the <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">CC BY-NC-SA License</a>.</small>
        <small class="copyright micro push-1-4">Unless otherwise noted.</small>
        <p class="copyright micro push-0 italic">Last build — <a href="https://github.com/acgd-learn-the-web/topics/commits/master" rel="external">2017-06-29 18:26 UTC</a>.</p>
      </div>
    </footer>
  </div>

  <script>var slug = 'advanced-performance';</script>
  <script>(function(){'use strict';var f=[];function g(a){f.push(a);1===f.length&&l()}function m(){for(;f.length;)f[0](),f.shift()}if(window.MutationObserver){var n=document.createElement("div");(new MutationObserver(m)).observe(n,{attributes:!0});var l=function(){n.setAttribute("x",0)}}else l=function(){setTimeout(m)};function p(a){this.a=q;this.b=void 0;this.f=[];var b=this;try{a(function(a){r(b,a)},function(a){t(b,a)})}catch(c){t(b,c)}}var q=2;function u(a){return new p(function(b,c){c(a)})}function v(a){return new p(function(b){b(a)})}
function r(a,b){if(a.a===q){if(b===a)throw new TypeError("Promise settled with itself.");var c=!1;try{var d=b&&b.then;if(null!==b&&"object"===typeof b&&"function"===typeof d){d.call(b,function(b){c||r(a,b);c=!0},function(b){c||t(a,b);c=!0});return}}catch(e){c||t(a,e);return}a.a=0;a.b=b;w(a)}}function t(a,b){if(a.a===q){if(b===a)throw new TypeError("Promise settled with itself.");a.a=1;a.b=b;w(a)}}
function w(a){g(function(){if(a.a!==q)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0===a.a?"function"===typeof c?e(c.call(void 0,a.b)):e(a.b):1===a.a&&("function"===typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}p.prototype.g=function(a){return this.c(void 0,a)};p.prototype.c=function(a,b){var c=this;return new p(function(d,e){c.f.push([a,b,d,e]);w(c)})};
function x(a){return new p(function(b,c){function d(c){return function(d){h[c]=d;e+=1;e===a.length&&b(h)}}var e=0,h=[];0===a.length&&b(h);for(var k=0;k<a.length;k+=1)v(a[k]).c(d(k),c)})}function y(a){return new p(function(b,c){for(var d=0;d<a.length;d+=1)v(a[d]).c(b,c)})};window.Promise||(window.Promise=p,window.Promise.resolve=v,window.Promise.reject=u,window.Promise.race=y,window.Promise.all=x,window.Promise.prototype.then=p.prototype.c,window.Promise.prototype["catch"]=p.prototype.g);}());

(function(){'use strict';function h(a){document.body?a():document.addEventListener("DOMContentLoaded",a)};function v(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.g=document.createElement("span");this.f=-1;this.b.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.g.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;";this.b.appendChild(this.h);this.c.appendChild(this.g);this.a.appendChild(this.b);this.a.appendChild(this.c)}
function w(a,c,b){a.a.style.cssText="min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-size:100px;font-family:"+c+";"+b}function x(a){var c=a.a.offsetWidth,b=c+100;a.g.style.width=b+"px";a.c.scrollLeft=b;a.b.scrollLeft=a.b.scrollWidth+100;return a.f!==c?(a.f=c,!0):!1}
function y(a,c){a.b.addEventListener("scroll",function(){x(a)&&null!==a.a.parentNode&&c(a.f)},!1);a.c.addEventListener("scroll",function(){x(a)&&null!==a.a.parentNode&&c(a.f)},!1);x(a)};function z(a,c){var b=c||{};this.family=a;this.style=b.style||"normal";this.variant=b.variant||"normal";this.weight=b.weight||"normal";this.stretch=b.stretch||"stretch";this.featureSettings=b.featureSettings||"normal"}var B=null;
z.prototype.a=function(a,c){var b=a||"BESbswy",C=c||3E3,k="font-style:"+this.style+";font-variant:"+this.variant+";font-weight:"+this.weight+";font-stretch:"+this.stretch+";font-feature-settings:"+this.featureSettings+";-moz-font-feature-settings:"+this.featureSettings+";-webkit-font-feature-settings:"+this.featureSettings+";",g=document.createElement("div"),l=new v(b),m=new v(b),n=new v(b),d=-1,e=-1,f=-1,q=-1,r=-1,t=-1,p=this;return new Promise(function(a,b){function c(){null!==g.parentNode&&g.parentNode.removeChild(g)}
function u(){if(-1!==d&&-1!==e||-1!==d&&-1!==f||-1!==e&&-1!==f)if(d===e||d===f||e===f){if(null===B){var b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))}B?d===q&&e===q&&f===q||d===r&&e===r&&f===r||d===t&&e===t&&f===t||(c(),a(p)):(c(),a(p))}}h(function(){function a(){if(Date.now()-D>=C)c(),b(p);else{var A=document.hidden;if(!0===A||void 0===A)d=l.a.offsetWidth,e=m.a.offsetWidth,f=n.a.offsetWidth,
u();setTimeout(a,50)}}var D=Date.now();w(l,"sans-serif",k);w(m,"serif",k);w(n,"monospace",k);g.appendChild(l.a);g.appendChild(m.a);g.appendChild(n.a);document.body.appendChild(g);q=l.a.offsetWidth;r=m.a.offsetWidth;t=n.a.offsetWidth;a();y(l,function(a){d=a;u()});w(l,'"'+p.family+'",sans-serif',k);y(m,function(a){e=a;u()});w(m,'"'+p.family+'",serif',k);y(n,function(a){f=a;u()});w(n,'"'+p.family+'",monospace',k)})})};window.FontFaceObserver=z;window.FontFaceObserver.prototype.check=z.prototype.a;}());
</script>
  <script>var alegreyaNormal,alegreyaItalic,alegreyaBold;sessionStorage.alegreyaLoaded?document.documentElement.className+=" alegreya-loaded":(alegreyaNormal=new FontFaceObserver("Alegreya Sans",{weight:"normal"}),alegreyaItalic=new FontFaceObserver("Alegreya Sans",{style:"italic"}),alegreyaBold=new FontFaceObserver("Alegreya Sans",{weight:"bold"}),Promise.all([alegreyaNormal.check(),alegreyaItalic.check(),alegreyaBold.check()]).then(function(){document.documentElement.className+=" alegreya-loaded",sessionStorage.alegreyaLoaded=!0}));</script>
  <script src="/js/common.min.js?v=92" async></script>
  
    <script src="/js/article.min.js?v=92" defer></script>
    <script>var sourceCodeProNormal,sourceCodeProBold;sessionStorage.sourceCodeProLoaded?document.documentElement.className+=" source-code-pro-loaded":(sourceCodeProNormal=new FontFaceObserver("Source Code Pro",{weight:"normal"}),sourceCodeProBold=new FontFaceObserver("Source Code Pro",{weight:"bold"}),Promise.all([sourceCodeProNormal.check(),sourceCodeProBold.check()]).then(function(){document.documentElement.className+=" source-code-pro-loaded",sessionStorage.sourceCodeProLoaded=!0}));</script>
    <script>
      var path = window.location.pathname.replace('/topics/', '').replace('/', '');
      localStorage.setItem('visited-' + path, true);
    </script>
  
</body>
</html>
